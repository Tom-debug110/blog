# TCP 连接与断开

## 引言

 TCP 通信是目前计算机网络中主要的通信方式，熟悉TCP 相关的知识是一名合格的计算机人员必备的知识体系，今天就来仿真一下

## 网络拓扑

![网络拓扑](./image-20221112160853365.png)

## 连接

打开仿真模式，打开PC 上的浏览器，输入服务器的地址。

![HTTP-应用层](./image-20221112161123945.png)

![TCP-运输层](./image-20221112161208696.png)

![IP-网络层](./image-20221112161301761.png)

服务端收到请求后，发送一个回应报文。

![二次握手](./image-20221112162021656.png)

对应的序列号和确认号都发生变化



![三次握手](./image-20221112162207569.png)

![主机发送数据](./image-20221112162357278.png)

![实际的数据部分](./image-20221112162428798.png)

之后，客户端就会收到服务器发来的应答报文，客户端浏览器响应

![客户端收到数据](./image-20221112163524606.png)

下面就是要关闭了，这个时候客户端要发送一个关闭 TCP 关闭的报文

![第一次断开](./image-20221112163004925.png)

![服务器收到报文](./image-20221112163500127.png)

![服务器发送ACK报文](./image-20221112163718027.png)

![客户端收到服务端发送的FIn](./image-20221112163813877.png)